# ===========================================
# RevueTech - Variables d'environnement
# ===========================================
# Copier ce fichier vers .env et remplir les valeurs

# ===========================================
# Application
# ===========================================
NODE_ENV=production
NEXT_PUBLIC_SITE_URL=https://revuetech.fr
NEXT_PUBLIC_API_URL=https://api.revuetech.fr

# ===========================================
# PostgreSQL (instance VPS existante)
# ===========================================
# Créer la base de données :
# CREATE USER revuetech WITH PASSWORD 'votre_mot_de_passe';
# CREATE DATABASE revuetech OWNER revuetech;
DATABASE_URL="postgresql://revuetech:MOT_DE_PASSE@localhost:5432/revuetech?schema=public"

# ===========================================
# Redis (dockerisé)
# ===========================================
REDIS_URL="redis://localhost:6380"

# ===========================================
# Auth0 (admin uniquement)
# ===========================================
# 1. Créer une application "Regular Web Application" dans Auth0
# 2. Configurer les URLs :
#    - Allowed Callback URLs: https://revuetech.fr/api/auth/callback
#    - Allowed Logout URLs: https://revuetech.fr
#    - Allowed Web Origins: https://revuetech.fr
# 3. Créer une API avec identifier: https://revuetech.fr/api

AUTH0_SECRET=GENERER_AVEC_openssl_rand_-hex_32
AUTH0_BASE_URL=https://revuetech.fr
AUTH0_ISSUER_BASE_URL=https://VOTRE-TENANT.auth0.com
AUTH0_CLIENT_ID=VOTRE_CLIENT_ID
AUTH0_CLIENT_SECRET=VOTRE_CLIENT_SECRET
AUTH0_DOMAIN=VOTRE-TENANT.auth0.com
AUTH0_AUDIENCE=https://revuetech.fr/api
AUTH0_ADMIN_ROLE=admin
AUTH0_ADMIN_PERMISSION=admin:all
AUTH0_ROLES_CLAIM=https://revuetech.fr/roles
ADMIN_EMAILS=admin@revuetech.fr
ADMIN_SUBS=auth0|000000000000000000000000

# ===========================================
# JWT Session
# ===========================================
# Générer avec : openssl rand -hex 32
JWT_SECRET=GENERER_AVEC_openssl_rand_-hex_32
SESSION_SECRET=GENERER_AVEC_openssl_rand_-hex_32

# ===========================================
# Resend (Email)
# ===========================================
# 1. Créer un compte sur https://resend.com
# 2. Vérifier le domaine revuetech.fr (ajouter les DNS records)
# 3. Créer une API Key
RESEND_API_KEY=re_VOTRE_CLE_API
RESEND_FROM_EMAIL=newsletter@revuetech.fr

# ===========================================
# Mistral AI (Newsletter IA)
# ===========================================
# Créer un compte sur https://console.mistral.ai
MISTRAL_API_KEY=VOTRE_CLE_MISTRAL

# ===========================================
# RSS Feed Source (TechPulse)
# ===========================================
RSS_FEED_URL=https://techpulse.sourcekod.fr/api/feeds/all.xml

# ===========================================
# Google AdSense
# ===========================================
# ID Publisher AdSense
NEXT_PUBLIC_ADSENSE_ID=ca-pub-7283351114219521

# ===========================================
# Grafana (Monitoring - utilisé uniquement en dev local)
# En production, Grafana est accessible via /grafana/ avec Basic Auth
# ===========================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGER_CE_MOT_DE_PASSE

# ===========================================
# Upload settings
# ===========================================
UPLOAD_MAX_SIZE_MB=5
UPLOAD_PATH=/var/www/revuetech/uploads

# ===========================================
# Shorts Video (TikTok/YouTube Shorts)
# ===========================================
# Dossier pour stocker les vidéos générées
SHORTS_DIR=/var/www/revuetech/shorts

# ===========================================
# Réseaux Sociaux - OAuth
# ===========================================
# Twitter/X : https://developer.twitter.com/en/portal/dashboard
# Créer une App avec OAuth 2.0 et ajouter les scopes: tweet.read tweet.write users.read offline.access
TWITTER_CLIENT_ID=VOTRE_TWITTER_CLIENT_ID
TWITTER_CLIENT_SECRET=VOTRE_TWITTER_CLIENT_SECRET

# Facebook : https://developers.facebook.com/apps/
# Créer une App et activer Facebook Login, ajouter les permissions: pages_manage_posts, pages_read_engagement
FACEBOOK_APP_ID=VOTRE_FACEBOOK_APP_ID
FACEBOOK_APP_SECRET=VOTRE_FACEBOOK_APP_SECRET

# LinkedIn : https://www.linkedin.com/developers/apps
# Créer une App et demander les produits: Share on LinkedIn, Sign In with LinkedIn
LINKEDIN_CLIENT_ID=VOTRE_LINKEDIN_CLIENT_ID
LINKEDIN_CLIENT_SECRET=VOTRE_LINKEDIN_CLIENT_SECRET
