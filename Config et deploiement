5. Configuration & Déploiement
Variables d'environnement requises
Credentials PostgreSQL (DATABASE_URL)
URL Redis (REDIS_URL)
Clé API Mistral (MISTRAL_API_KEY)
Configuration Auth0 (AUTH0_CLIENT_ID, AUTH0_CLIENT_SECRET, AUTH0_DOMAIN)
Clé API Resend (RESEND_API_KEY)
URL du flux RSS source (RSS_FEED_URL)
Secrets JWT/session (JWT_SECRET, SESSION_SECRET)
Configuration Prometheus/Grafana
URL du site (NEXT_PUBLIC_SITE_URL)
Google AdSense ID (NEXT_PUBLIC_ADSENSE_ID) - optionnel
Dossier shorts vidéo (SHORTS_DIR) - défaut: /var/www/revuetech/shorts
Nginx
Configuration reverse proxy vers app-frontend
Proxy API vers app-backend
Serveur de fichiers statiques pour /uploads (images)
SSL/TLS (Let's Encrypt)
Cache statique (images, assets)
Gzip/Brotli compression
Sécurité
Rate limiting sur l'API (général)
Rate limiting spécifique commentaires (3/min par IP)
Protection CSRF
Headers de sécurité (HSTS, CSP, X-Frame-Options)
Sanitization des inputs utilisateur
Validation des données côté backend
Anti-spam commentaires :
  - Honeypot fields
  - Détection patterns spam
  - Blacklist mots-clés
Stockage Images
Dossier : /var/www/revuetech/uploads (monté en volume Docker)
Backup : inclure dans stratégie de backup VPS
Permissions : lecture publique, écriture backend uniquement
Nettoyage : cron pour supprimer images orphelines
Shorts Vidéo (TikTok/YouTube Shorts)
Dossier : /var/www/revuetech/shorts (monté en volume Docker)
Structure :
  - current.mp4 : vidéo du jour (remplacée chaque nuit à 22h)
  - thumbnail.png : miniature de la vidéo
  - metadata.json : infos et tags pour les plateformes
  - backgrounds/ : images de fond personnalisées
  - temp/ : fichiers temporaires (nettoyés après génération)
Prérequis serveur :
  - FFmpeg installé (apt install ffmpeg)
  - Librairies canvas (apt install libcairo2-dev libjpeg-dev libpango1.0-dev libgif-dev build-essential g++)
Cron : génération quotidienne à 22h
Admin : page /admin/shorts pour télécharger et copier les tags
